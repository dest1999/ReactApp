{"ast":null,"code":"import { ADD_CHAT, DELETE_CHAT, ADD_DBCHAT } from \"../../constants/addChat\";\nimport { removeChatData, writeChatData } from \"../../firebase-db-utils\";\nconst initialState = {\n  chatList: []\n};\nexport const chatsReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_CHAT:\n      const chatId = crypto.randomUUID();\n      const id = state.chatList.length + 1;\n      writeChatData(chatId, id, action.userId);\n      return { ...state,\n        chatList: [...state.chatList, {\n          id: chatId,\n          name: `Chat${id}`\n        }]\n      };\n\n    case ADD_DBCHAT:\n      let currentListChats = [];\n\n      if (action.data) {\n        Object.values(action.data).forEach((item, i) => {\n          currentListChats[i] = item;\n        });\n      }\n\n      return { ...state,\n        chatList: [...currentListChats]\n      };\n\n    case DELETE_CHAT:\n      removeChatData(action.id);\n      return { ...state,\n        chatList: [...state.chatList.filter(item => item.id !== action.id)]\n      };\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["ADD_CHAT","DELETE_CHAT","ADD_DBCHAT","removeChatData","writeChatData","initialState","chatList","chatsReducer","state","action","type","chatId","crypto","randomUUID","id","length","userId","name","currentListChats","data","Object","values","forEach","item","i","filter"],"sources":["C:/Users/serv_/source/repos/TryReact4usik/GB_React/myapp/src/reducers/chats/addChat.js"],"sourcesContent":["import { ADD_CHAT, DELETE_CHAT, ADD_DBCHAT } from \"../../constants/addChat\";\nimport { removeChatData, writeChatData } from \"../../firebase-db-utils\";\n\nconst initialState = {\n    chatList: [],\n};\n\nexport const chatsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_CHAT:\n            const chatId = crypto.randomUUID();\n            const id = state.chatList.length+1;\n            writeChatData(chatId, id, action.userId);\n            return {\n                ...state,\n                chatList: [\n                    ...state.chatList,\n                    {\n                        id: chatId,\n                        name: `Chat${id}`,\n                    }\n                ]\n            };\n\n        case ADD_DBCHAT:\n            let currentListChats = [];\n            if (action.data) {\n                Object.values(action.data).forEach((item, i) => {\n                    currentListChats[i] = item;\n                });\n            }\n            return {\n                ...state,\n                chatList: [\n                    ...currentListChats\n                ]\n            };\n\n        case DELETE_CHAT:\n            removeChatData(action.id);\n            return {\n                ...state,\n                chatList: [...state.chatList.filter((item) => item.id !== action.id)],\n            };\n\n        default:\n            return state;\n    }\n}\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,UAAhC,QAAkD,yBAAlD;AACA,SAASC,cAAT,EAAyBC,aAAzB,QAA8C,yBAA9C;AAEA,MAAMC,YAAY,GAAG;EACjBC,QAAQ,EAAE;AADO,CAArB;AAIA,OAAO,MAAMC,YAAY,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBH,YAAyB;EAAA,IAAXI,MAAW;;EAC1D,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKV,QAAL;MACI,MAAMW,MAAM,GAAGC,MAAM,CAACC,UAAP,EAAf;MACA,MAAMC,EAAE,GAAGN,KAAK,CAACF,QAAN,CAAeS,MAAf,GAAsB,CAAjC;MACAX,aAAa,CAACO,MAAD,EAASG,EAAT,EAAaL,MAAM,CAACO,MAApB,CAAb;MACA,OAAO,EACH,GAAGR,KADA;QAEHF,QAAQ,EAAE,CACN,GAAGE,KAAK,CAACF,QADH,EAEN;UACIQ,EAAE,EAAEH,MADR;UAEIM,IAAI,EAAG,OAAMH,EAAG;QAFpB,CAFM;MAFP,CAAP;;IAWJ,KAAKZ,UAAL;MACI,IAAIgB,gBAAgB,GAAG,EAAvB;;MACA,IAAIT,MAAM,CAACU,IAAX,EAAiB;QACbC,MAAM,CAACC,MAAP,CAAcZ,MAAM,CAACU,IAArB,EAA2BG,OAA3B,CAAmC,CAACC,IAAD,EAAOC,CAAP,KAAa;UAC5CN,gBAAgB,CAACM,CAAD,CAAhB,GAAsBD,IAAtB;QACH,CAFD;MAGH;;MACD,OAAO,EACH,GAAGf,KADA;QAEHF,QAAQ,EAAE,CACN,GAAGY,gBADG;MAFP,CAAP;;IAOJ,KAAKjB,WAAL;MACIE,cAAc,CAACM,MAAM,CAACK,EAAR,CAAd;MACA,OAAO,EACH,GAAGN,KADA;QAEHF,QAAQ,EAAE,CAAC,GAAGE,KAAK,CAACF,QAAN,CAAemB,MAAf,CAAuBF,IAAD,IAAUA,IAAI,CAACT,EAAL,KAAYL,MAAM,CAACK,EAAnD,CAAJ;MAFP,CAAP;;IAKJ;MACI,OAAON,KAAP;EAtCR;AAwCH,CAzCM"},"metadata":{},"sourceType":"module"}