{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\serv_\\\\source\\\\repos\\\\TryReact4usik\\\\GB_React\\\\myapp\\\\src\\\\pages\\\\profile-page.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Box, Typography, TextField, Button } from '@mui/material';\nimport { CheckBox } from \"../components/ProfileChecked\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addName } from \"../constants/profileCheck\";\nimport { getUser } from \"../store/selectors/users\";\nimport { setListenerDBUser, updateUserName, writeUserData } from \"../firebase-db-utils\";\nimport { getProfile } from \"../store/selectors/profile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Profile = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const user = useSelector(getUser);\n  const profile = useSelector(getProfile);\n  useEffect(() => {\n    if (setListenerDBUser()) {\n      const loginedUser = Object.values(setListenerDBUser());\n      const userKeys = Object.keys(setListenerDBUser());\n\n      if (!userKeys.includes(user.uid)) {\n        writeUserData(user.uid, 'USER', user.email);\n      } else if (userKeys.includes(user.uid) && profile.name === 'USER') {\n        let userName = loginedUser.filter(item => item.id === user.uid)[0].username;\n\n        if (userName !== 'USER') {\n          dispatch(addName(userName));\n        }\n      }\n    }\n  });\n  const [name, setName] = useState('');\n\n  const handleChange = event => {\n    setName(event.target.value);\n  };\n\n  const onAddName = () => {\n    dispatch(addName(name));\n    updateUserName(user.uid, name);\n    setName('');\n  };\n\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _inputRef$current;\n\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();\n  }, [name]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      minWidth: 360,\n      position: 'absolute',\n      top: '25%',\n      left: '35%',\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      color: '#1976d2'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h2\",\n      component: \"div\",\n      sx: {\n        flexGrow: 1\n      },\n      children: profile.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      sx: {\n        '& > :not(style)': {\n          m: 1,\n          width: '49ch',\n          color: 'white',\n          fontSize: '25px',\n          textAlign: 'left'\n        }\n      },\n      label: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0435 \\u0438\\u043C\\u044F\",\n      value: name,\n      onChange: handleChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: onAddName,\n      sx: {\n        color: 'white',\n        fontSize: '25px'\n      },\n      children: \"\\u0421\\u041E\\u0425\\u0420\\u0410\\u041D\\u0418\\u0422\\u042C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CheckBox, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Profile, \"7K+WPlSjrfnDZK7fG2yBp4EqS20=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Box","Typography","TextField","Button","CheckBox","useDispatch","useSelector","addName","getUser","setListenerDBUser","updateUserName","writeUserData","getProfile","Profile","dispatch","user","profile","loginedUser","Object","values","userKeys","keys","includes","uid","email","name","userName","filter","item","id","username","setName","handleChange","event","target","value","onAddName","inputRef","current","focus","minWidth","position","top","left","display","flexDirection","alignItems","color","flexGrow","m","width","fontSize","textAlign"],"sources":["C:/Users/serv_/source/repos/TryReact4usik/GB_React/myapp/src/pages/profile-page.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport { Box, Typography, TextField, Button } from '@mui/material';\nimport { CheckBox } from \"../components/ProfileChecked\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { addName } from \"../constants/profileCheck\";\nimport { getUser } from \"../store/selectors/users\";\nimport { setListenerDBUser, updateUserName, writeUserData } from \"../firebase-db-utils\";\nimport { getProfile } from \"../store/selectors/profile\";\n\nexport const Profile = () => {\n\n    const dispatch = useDispatch();\n    const user = useSelector(getUser);\n    \n    const profile = useSelector(getProfile);\n\n    useEffect(() => {\n        \n        if (setListenerDBUser()) {\n            const loginedUser = Object.values(setListenerDBUser());\n            const userKeys = Object.keys(setListenerDBUser());\n\n            if (!userKeys.includes(user.uid)) {\n                writeUserData(user.uid, 'USER', user.email);\n            } else if (userKeys.includes(user.uid) && profile.name === 'USER') {\n                let userName = loginedUser.filter((item) => item.id === user.uid)[0].username;\n                if (userName !== 'USER') {\n                    dispatch(addName(userName));\n                }\n            }\n        }\n    });\n    \n    const [name, setName] = useState('');\n\n    const handleChange = (event) => {\n        setName(event.target.value);\n    }\n    const onAddName = () => {\n        dispatch(addName(name));\n        updateUserName(user.uid, name);\n        setName('');\n    }\n\n    const inputRef = useRef(null);\n\n    useEffect(() => {\n        inputRef.current?.focus();\n    }, [name]);\n\n    return (\n        <Box sx={{ minWidth: 360, position: 'absolute', top: '25%', left: '35%', display: 'flex', flexDirection: 'column', alignItems: 'center', color: '#1976d2'  }}>\n            <Typography variant=\"h2\" component=\"div\" sx={{ flexGrow: 1 }}>\n            {profile.name}\n            </Typography>\n            <TextField\n                sx={{\n                    '& > :not(style)': { m: 1, width: '49ch', color: 'white', fontSize: '25px', textAlign: 'left' },  \n                }}\n                label=\"Введите свое имя\"\n                value={name}\n                onChange={handleChange}\n            />\n            <Button onClick={onAddName}\n                sx={{\n                    color: 'white',\n                    fontSize: '25px'\n                }}\n                >\n                    СОХРАНИТЬ\n                </Button>\n            <CheckBox />\n        </Box>\n    );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}