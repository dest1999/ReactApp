{"ast":null,"code":"import { AUTHOR, BOT } from \"../../constants\";\nimport { ADD_MESSAGE, ADD_BOT_MESSAGE, DEL_MESSAGES_WITH_CHAT } from \"../../constants/addMessage\";\nconst initialState = {\n  messageList: {}\n};\nexport const messagesReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_MESSAGE:\n      {\n        const currentList = state.messageList[action.chatId] || [];\n        return { ...state,\n          messageList: { ...state.messageList,\n            [action.chatId]: [...currentList, {\n              id: `${action.chatId}.${currentList.length + 1}`,\n              text: action.message,\n              author: AUTHOR\n            }]\n          }\n        };\n      }\n      ;\n\n    case ADD_BOT_MESSAGE:\n      {\n        const currentList = state.messageList[action.chatId] || [];\n        return { ...state,\n          messageList: { ...state.messageList,\n            [action.chatId]: [...currentList, {\n              id: `${action.chatId}.${currentList.length + 1}`,\n              text: 'Я бот',\n              author: BOT\n            }]\n          }\n        };\n      }\n      ;\n\n    case DEL_MESSAGES_WITH_CHAT:\n      {\n        delete state.messageList[\"Chat\" + action.chatId];\n        const currentList = state.messageList;\n        return { ...state,\n          messageList: { ...currentList\n          }\n        };\n      }\n      ;\n\n    default:\n      return state;\n  }\n};","map":{"version":3,"names":["AUTHOR","BOT","ADD_MESSAGE","ADD_BOT_MESSAGE","DEL_MESSAGES_WITH_CHAT","initialState","messageList","messagesReducer","state","action","type","currentList","chatId","id","length","text","message","author"],"sources":["C:/Users/serv_/source/repos/TryReact4usik/GB_React/myapp/src/reducers/messages/addMessage.js"],"sourcesContent":["import { AUTHOR, BOT } from \"../../constants\";\nimport { ADD_MESSAGE, ADD_BOT_MESSAGE, DEL_MESSAGES_WITH_CHAT } from \"../../constants/addMessage\";\n\nconst initialState = {\n    messageList: {},\n};\n\nexport const messagesReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_MESSAGE: {\n            const currentList = state.messageList[action.chatId] || [];\n            return {\n                ...state,\n                messageList: {\n                    ...state.messageList,\n                    [action.chatId]: [\n                        ...currentList,\n                        {\n                            id: `${action.chatId}.${currentList.length+1}`,\n                            text: action.message,\n                            author: AUTHOR,\n                        },\n                    ],\n                },\n            };\n        };\n        case ADD_BOT_MESSAGE: {\n            const currentList = state.messageList[action.chatId] || [];\n            return {\n                ...state,\n                messageList: {\n                    ...state.messageList,\n                    [action.chatId]: [\n                        ...currentList,\n                        {\n                            id: `${action.chatId}.${currentList.length+1}`,\n                            text: 'Я бот',\n                            author: BOT,\n                        },\n                    ],\n                },\n            };\n        };\n        case DEL_MESSAGES_WITH_CHAT: {\n            delete state.messageList[\"Chat\"+action.chatId];\n            const currentList = state.messageList;\n            return {\n                ...state,\n                messageList: {\n                    ...currentList\n                }\n            };\n        };\n             \n        default:\n            return state;\n    }\n};"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,GAAjB,QAA4B,iBAA5B;AACA,SAASC,WAAT,EAAsBC,eAAtB,EAAuCC,sBAAvC,QAAqE,4BAArE;AAEA,MAAMC,YAAY,GAAG;EACjBC,WAAW,EAAE;AADI,CAArB;AAIA,OAAO,MAAMC,eAAe,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBH,YAAyB;EAAA,IAAXI,MAAW;;EAC7D,QAAQA,MAAM,CAACC,IAAf;IACI,KAAKR,WAAL;MAAkB;QACd,MAAMS,WAAW,GAAGH,KAAK,CAACF,WAAN,CAAkBG,MAAM,CAACG,MAAzB,KAAoC,EAAxD;QACA,OAAO,EACH,GAAGJ,KADA;UAEHF,WAAW,EAAE,EACT,GAAGE,KAAK,CAACF,WADA;YAET,CAACG,MAAM,CAACG,MAAR,GAAiB,CACb,GAAGD,WADU,EAEb;cACIE,EAAE,EAAG,GAAEJ,MAAM,CAACG,MAAO,IAAGD,WAAW,CAACG,MAAZ,GAAmB,CAAE,EADjD;cAEIC,IAAI,EAAEN,MAAM,CAACO,OAFjB;cAGIC,MAAM,EAAEjB;YAHZ,CAFa;UAFR;QAFV,CAAP;MAcH;MAAA;;IACD,KAAKG,eAAL;MAAsB;QAClB,MAAMQ,WAAW,GAAGH,KAAK,CAACF,WAAN,CAAkBG,MAAM,CAACG,MAAzB,KAAoC,EAAxD;QACA,OAAO,EACH,GAAGJ,KADA;UAEHF,WAAW,EAAE,EACT,GAAGE,KAAK,CAACF,WADA;YAET,CAACG,MAAM,CAACG,MAAR,GAAiB,CACb,GAAGD,WADU,EAEb;cACIE,EAAE,EAAG,GAAEJ,MAAM,CAACG,MAAO,IAAGD,WAAW,CAACG,MAAZ,GAAmB,CAAE,EADjD;cAEIC,IAAI,EAAE,OAFV;cAGIE,MAAM,EAAEhB;YAHZ,CAFa;UAFR;QAFV,CAAP;MAcH;MAAA;;IACD,KAAKG,sBAAL;MAA6B;QACzB,OAAOI,KAAK,CAACF,WAAN,CAAkB,SAAOG,MAAM,CAACG,MAAhC,CAAP;QACA,MAAMD,WAAW,GAAGH,KAAK,CAACF,WAA1B;QACA,OAAO,EACH,GAAGE,KADA;UAEHF,WAAW,EAAE,EACT,GAAGK;UADM;QAFV,CAAP;MAMH;MAAA;;IAED;MACI,OAAOH,KAAP;EA/CR;AAiDH,CAlDM"},"metadata":{},"sourceType":"module"}